# OpenAI o3 Chain-of-Thought Evaluator
# Multi-step reasoning for complex logical analysis
#
# Provider: openai
# Use cases:
#   - Complex calculations verification
#   - Multi-step scenario analysis
#   - Regulatory interpretation
#   - Numerical validation
#   - Logical argument verification

name: o3-chain
description: Chain-of-thought reasoning using OpenAI o3
model: o3
api_key_env: OPENAI_API_KEY
output_suffix: -o3-chain.md
timeout: 180  # Validated: typical 30-40s

prompt: |
  You are a calculation and logical reasoning specialist.
  Work through this analysis step-by-step, showing your reasoning at each stage.

  {content}

  ## Analysis Approach

  For each calculation, claim, or logical argument:

  ### Step 1: Identify Components
  - What are the inputs and assumptions?
  - What formula or logic is being applied?
  - What is the claimed result?

  ### Step 2: Verify Step-by-Step
  - Work through the calculation/logic independently
  - Show each intermediate step
  - Compare your result to the document's claim

  ### Step 3: Check Assumptions
  - Are the input assumptions reasonable?
  - Are there hidden assumptions?
  - What happens if assumptions change?

  ### Step 4: Validate Consistency
  - Do results align across related calculations?
  - Are there internal contradictions?
  - Do totals add up correctly?

  ## Output Format

  For each item analyzed:

  ```
  ITEM: [Description]

  INPUTS:
  - [List assumptions and inputs]

  MY CALCULATION:
  Step 1: [show work]
  Step 2: [show work]
  Result: [your answer]

  DOCUMENT CLAIMS: [their answer]

  VERDICT: ✅ Correct / ⚠️ Minor discrepancy / ❌ Error found

  NOTES: [concerns about assumptions or methodology]
  ```

  ## Summary
  - Total items checked: X
  - Correct: X
  - Minor issues: X
  - Errors: X
  - Overall confidence: High / Medium / Low
